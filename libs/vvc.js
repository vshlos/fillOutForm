/*!
 * VVC base class creator.
 * Author: Vlad Shlosberg
 * Source Url: https://github.com/vshlos/vvc
 * */
window.vvc={makeClass:function(a){var b=function(){if(this instanceof b)"function"===typeof this.init&&b.prototype.hasOwnProperty("init")&&b.prototype.init.apply(this,arguments);else{var a=arguments,d=function(){b.apply(this,a)};d.prototype=b.prototype;return new d}};return b},makeNamespace:function(a){var b=a,c=window,d=null;if("string"===typeof a)b=a.split(".");else if(!(a instanceof Array))throw Error("Argument has to either name namespace with separated by '.' or be an array of elements.");a=0;for(var e=b.length;a<e;a++)d=b[a],c=c[d]=c[d]||{};return c},registerAllTools:function(a){var b,c=vvc.jqueryTools;if(!a&&!a.fn)throw Error("jQuery object not defined.");if(c)for(;0<c.length;)b=c.pop(),a.fn[b.name]=function(){return vvc.toolConstructor(this,b.type,b.name,arguments)}},registerTool:function(a,b){var c;vvc.jqueryTools||(vvc.jqueryTools=[]);vvc.jqueryTools.push({type:a,name:b});"undefined"!==typeof jQuery?c=jQuery:"undefined"!==typeof $&&(c=$);c&&vvc.registerAllTools(c)},sliceArgs:function(a,b){return Array.prototype.slice.call(a,b)},toolConstructor:function(a,b,c,d){var e=d?d[0]:null,h=[],g="string"===typeof e;g&&(d=Array.prototype.slice.call(d),d.shift());a=a.each(function(){var a=this[c],l,k;"destroy"===e?a&&(a.destroy&&a.destroy(),delete this[c]):(a||(a=this[c]=new b(this,g?null:e)),g?(k=a[e],null!=k&&(l=k.apply(a,d))):a.setOptions&&null!=e&&a.setOptions(e),null!=l&&l!=$(this)&&h.push(l))});return 0<h.length?h[0]:a},createStatic:function(a,b,c){vvc.makeNamespace(a)[b]=c},createClass:function(a,b,c,d){var e=vvc.makeNamespace(a),e=e[b]=vvc.makeClass(e);e.name=b;e.prototype=d;e.prototype.__CLASS__=a+"."+b;c&&vvc.registerTool(e,c);return e},extendObject:function(a,b){var c={},d;for(d in a)c[d]=a[d];if(b)for(d in b)c[d]=b[d];return c},extendClass:function(a,b,c,d,e){var h,g,f=vvc.makeNamespace(a)[b]=function(){if(this instanceof f){var a=this.base=new h(this);d.apply(this,arguments);a!=this.base&&(a.base=this.base,this.base=a);f.prototype.hasOwnProperty("init")&&"function"===typeof f.prototype.init&&f.prototype.init.apply(this,arguments)}else{var b=arguments,a=function(){f.apply(this,b)};a.prototype=f.prototype;return new a}};f.name=b;var l=function(a){return function(){var b=this.__instance__,c=b.base;try{b.base=this.base,a.apply(b,arguments)}finally{b.base=c}}};g=function(){};g.prototype=d.prototype;h=function(a){this.__instance__=a};h.prototype=vvc.extendObject(f.prototype=new g);for(var k in e)(g=f.prototype[k])&&(h.prototype[k]="function"===typeof g?l(g):g),f.prototype[k]=e[k];f.prototype.__CLASS__=a+"."+b;c&&vvc.registerTool(f,c);return f}};